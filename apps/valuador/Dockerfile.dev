# Usar Node.js como base
FROM node:20-alpine

# Establecer directorio de trabajo
WORKDIR /app

# Instalar pnpm globalmente
RUN npm install -g pnpm

# Instalar dependencias
COPY package*.json ./
RUN pnpm install

# Copiar archivos de configuración
COPY astro.config.mjs ./
COPY tailwind.config.mjs ./
COPY tsconfig.json ./

# Copiar el código fuente
COPY src/ ./src/

# Puerto que usará Astro
EXPOSE 4321

# Comando para ejecutar en modo desarrollo
CMD ["pnpm", "run", "dev", "--host", "0.0.0.0"] 