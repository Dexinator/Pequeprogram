---
interface Props {
  id?: string;
  className?: string;
}

const { id = "cliente-form", className = "" } = Astro.props;
---

<div class={`cliente-form ${className}`}>
  <div class="bg-background-alt p-6 rounded-lg shadow-sm border border-border">
    <h2 class="text-xl font-heading font-bold mb-4 text-azul-claro">Datos del Cliente</h2>
    
    <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
      <div class="space-y-2">
        <label class="block font-medium" for="cliente-tipo">
          Tipo de Cliente
        </label>
        <div class="flex gap-4">
          <label class="inline-flex items-center">
            <input type="radio" name="cliente-tipo" value="nuevo" class="text-azul-claro border-border focus:ring-azul-claro/50 mr-2" checked>
            Nuevo
          </label>
          <label class="inline-flex items-center">
            <input type="radio" name="cliente-tipo" value="existente" class="text-azul-claro border-border focus:ring-azul-claro/50 mr-2">
            Existente
          </label>
        </div>
      </div>
      
      <div class="space-y-2 cliente-busqueda hidden">
        <label class="block font-medium" for="cliente-buscar">
          Buscar Cliente
        </label>
        <div class="flex gap-2">
          <input 
            type="text" 
            id="cliente-buscar" 
            name="cliente-buscar" 
            class="flex-1 p-2 border border-border rounded-md bg-background focus:ring-2 focus:ring-azul-claro/50 focus:border-azul-claro outline-none transition-all"
            placeholder="Buscar por nombre o teléfono" 
          />
          <button type="button" class="px-4 py-2 bg-azul-claro text-white rounded-md hover:bg-azul-profundo transition-colors">
            <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5" fill="none" viewBox="0 0 24 24" stroke="currentColor">
              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z" />
            </svg>
          </button>
        </div>
      </div>
      
      <div class="space-y-2">
        <label class="block font-medium" for="cliente-nombre">
          Nombre <span class="text-rosa">*</span>
        </label>
        <input 
          type="text" 
          id="cliente-nombre" 
          name="cliente-nombre" 
          class="w-full p-2 border border-border rounded-md bg-background focus:ring-2 focus:ring-azul-claro/50 focus:border-azul-claro outline-none transition-all"
          placeholder="Nombre completo" 
          required
        />
      </div>
      
      <div class="space-y-2">
        <label class="block font-medium" for="cliente-telefono">
          Teléfono <span class="text-rosa">*</span>
        </label>
        <input 
          type="tel" 
          id="cliente-telefono" 
          name="cliente-telefono" 
          class="w-full p-2 border border-border rounded-md bg-background focus:ring-2 focus:ring-azul-claro/50 focus:border-azul-claro outline-none transition-all"
          placeholder="10 dígitos" 
          pattern="[0-9]{10}"
          required
        />
      </div>
      
      <div class="space-y-2">
        <label class="block font-medium" for="cliente-email">
          Correo Electrónico
        </label>
        <input 
          type="email" 
          id="cliente-email" 
          name="cliente-email" 
          class="w-full p-2 border border-border rounded-md bg-background focus:ring-2 focus:ring-azul-claro/50 focus:border-azul-claro outline-none transition-all"
          placeholder="ejemplo@correo.com" 
        />
      </div>
      
      <div class="space-y-2">
        <label class="block font-medium" for="cliente-identificacion">
          Identificación Oficial
        </label>
        <input 
          type="text" 
          id="cliente-identificacion" 
          name="cliente-identificacion" 
          class="w-full p-2 border border-border rounded-md bg-background focus:ring-2 focus:ring-azul-claro/50 focus:border-azul-claro outline-none transition-all"
          placeholder="INE, pasaporte, etc." 
        />
      </div>
    </div>
  </div>
</div>

<script>
  document.addEventListener('DOMContentLoaded', () => {
    const tipoClienteRadios = document.querySelectorAll('input[name="cliente-tipo"]');
    const busquedaContainer = document.querySelector('.cliente-busqueda');
    
    tipoClienteRadios.forEach(radio => {
      radio.addEventListener('change', (e) => {
        const target = e.target as HTMLInputElement;
        if (target.value === 'existente') {
          busquedaContainer?.classList.remove('hidden');
        } else {
          busquedaContainer?.classList.add('hidden');
        }
      });
    });
  });
</script> 