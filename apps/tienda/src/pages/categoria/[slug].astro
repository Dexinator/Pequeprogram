---
import Layout from '../../layouts/Layout.astro';
import Subcategories from '../../components/shop/Subcategories';

// Obtener el slug de la categoría
const { slug } = Astro.params;

// Mapeo de slugs a IDs de categoría basado en las categorías reales de la BD
const categoryMap: Record<string, { id: number; name: string }> = {
  'a-pasear': { id: 1, name: 'A pasear' },
  'a-dormir': { id: 2, name: 'A dormir' },
  'en-casa': { id: 3, name: 'En Casa' },
  'a-comer': { id: 4, name: 'A comer' },
  'ropa': { id: 5, name: 'Ropa' },
  'a-jugar': { id: 6, name: 'A jugar' }
};

const category = categoryMap[slug || ''];

if (!category) {
  return Astro.redirect('/categorias');
}
---

<Layout title={`${category.name} - Entrepeques`}>
  <Subcategories 
    categoryId={category.id} 
    categoryName={category.name} 
    client:only="react" 
  />
</Layout>